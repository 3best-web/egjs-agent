/*
Copyright (c) 2015 NAVER Corp.
name: @egjs/agent
license: MIT
author: NAVER Corp.
repository: git+https://github.com/naver/egjs-agent.git
version: 2.4.3-snapshot
*/
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):((e="undefined"!=typeof globalThis?globalThis:e||self).eg=e.eg||{},e.eg.agent=n())}(this,function(){"use strict";function l(e,n){for(var i=e.length,r=0;r<i;++r)if(n(e[r],r))return!0;return!1}function b(e,n){for(var i=e.length,r=0;r<i;++r)if(n(e[r],r))return e[r];return null}function p(e){var n=e;if(void 0===n){if("undefined"==typeof navigator||!navigator)return"";n=navigator.userAgent||""}return n.toLowerCase()}function t(e,n){try{return new RegExp(e,"g").exec(n)}catch(e){return null}}function n(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,n=e.brands||e.uaList;return!(!n||!n.length)}function g(e){return e.replace(/_/g,".")}function f(e,i){var r=null,o="-1";return l(e,function(e){var n=t("("+e.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",i);return!(!n||e.brand)&&(r=e,o=n[3]||"-1",e.versionAlias?o=e.versionAlias:e.versionTest&&(o=function(e,n){var i=t("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",n);return i?i[3]:""}(e.versionTest.toLowerCase(),i)||o),o=g(o),!0)}),{preset:r,version:o}}function h(e,i){var r={brand:"",version:"-1"};return l(e,function(e){var n=V(i,e);return!!n&&(r.brand=e.id,r.version=e.versionAlias||n.version,"-1"!==r.version)}),r}function V(e,i){return b(e,function(e){var n=e.brand;return t(""+i.test,n.toLowerCase())})}var k=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],A=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],x=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],j=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],T=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function y(e){return!!f(j,e).preset}function i(e){var n=p(e),i=!!/mobi/g.exec(n),r={name:"unknown",version:"-1",majorVersion:-1,webview:y(n),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},o={name:"unknown",version:"-1",majorVersion:-1},t=f(k,n),s=t.preset,a=t.version,u=f(T,n),d=u.preset,v=u.version,m=f(A,n);if(r.chromium=!!m.preset,r.chromiumVersion=m.version,!r.chromium){var w=f(x,n);r.webkit=!!w.preset,r.webkitVersion=w.version}return d&&(o.name=d.id,o.version=v,o.majorVersion=parseInt(v,10)),s&&(r.name=s.id,r.version=a,r.webview&&"ios"===o.name&&"safari"!==r.name&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:o,isMobile:i,isHints:!1}}function r(e){var n=navigator.userAgentData,i=(n.uaList||n.brands).slice(),r=e&&e.fullVersionList,o=n.mobile||!1,t=e&&e.model,s=i[0],a=(e&&e.platform||n.platform||navigator.platform).toLowerCase(),u={name:s.brand,version:s.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!h(j,i).brand||y(p())},d={name:"unknown",version:"-1",majorVersion:-1};u.webkit=!u.chromium&&l(x,function(e){return V(i,e)});var v=h(A,i);if(u.chromium=!!v.brand,u.chromiumVersion=v.version,!u.chromium){var m=h(x,i);u.webkit=!!m.brand,u.webkitVersion=m.version}var w=b(T,function(e){return new RegExp(""+e.test,"g").exec(a)});if(d.name=w?w.id:"",e&&(d.version=e.platformVersion),r&&r.length){var f=h(k,r);u.name=f.brand||u.name,u.version=f.version||u.version}else{var c=h(k,i);u.name=c.brand||u.name,u.version=c.brand&&e?e.uaFullVersion:c.version}return u.webkit&&(d.name=o?"ios":"mac"),"ios"===d.name&&u.webview&&(u.version="-1"),d.version=g(d.version),u.version=g(u.version),d.majorVersion=parseInt(d.version,10),u.majorVersion=parseInt(u.version,10),{browser:u,os:d,isMobile:o,isHints:!0,model:t||""}}function e(e){return void 0===e&&n()?r():i(e)}var o={__proto__:null,getAccurateAgent:function(i){return n()?navigator.userAgentData.getHighEntropyValues(["architecture","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then(function(e){var n=r(e);return i&&i(n),n}):(i&&i(e()),"undefined"!=typeof Promise&&Promise?Promise.resolve(e()):null)},getLegacyAgent:i,default:e};for(var s in o)e[s]=o[s];return e});
//# sourceMappingURL=agent.min.js.map
